webpackJsonp([40],{2727:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=i(2865);n.default=t.a},2772:function(e,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"HandleData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HandleData"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantityData"},arguments:[],directives:[]}]}}],loc:{start:0,end:62}};i.loc.source={body:"fragment HandleData on HandleData {\n  success\n  quantityData\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=i},2865:function(e,n,i){"use strict";i(256);var t,a=i(93),d=(i(58),i(51)),s=(i(1061),i(522)),r=(i(964),i(339)),u=(i(969),i(525)),l=i(0),m=(i.n(l),i(123)),o=i(67),c=i(201),k=this&&this.__extends||(t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])})(e,n)},function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}),p=i(2866),v=p.QUERY_DISTRIBUTE_DATA,f=p.DISTRIBUTE_DATA,g=function(e){function n(n){var i=e.call(this,n)||this;return i.isShowSubmitting=function(){i.setState({isSubmitting:!0})},i.isHideSubmitting=function(){i.setState({isSubmitting:!1})},i.handleSubmit=function(e){e.preventDefault(),i.props.form.validateFields(function(e,n){e||(i.isShowSubmitting(),i.props.distributeData({statusId:n.statusId,campaignId:n.campaignId,quantityData:n.quantityData,userIdList:i.state.userIdList}).then(function(e){var n=e.data;n.distributeData&&n.distributeData.success?u.a.success({message:"Th\xe0nh c\xf4ng",description:"\u0110\xe3 ph\xe1t "+n.distributeData.quantityData+" d\u1eef li\u1ec7u"}):u.a.info({message:"Kh\xf4ng th\xe0nh c\xf4ng",description:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u \u0111\u1ec3 chuy\u1ec3n"}),i.isHideSubmitting()}).catch(function(e){Object(o.i)(e),i.isHideSubmitting()}))})},i.handleListUser=function(e){i.setState({userIdList:e})},i.state={userIdList:[],isSubmitting:!1},i}return k(n,e),n.prototype.componentDidMount=function(){this.props.data.refetch()},n.prototype.render=function(){var e=this,n=this.props.data,i=n.loading,t=n.campaigns,u=n.statuses,m=n.users,k=n.roles,p=Object(o.b)(u),v={name:"/data/distribute",label:"Ph\xe2n ph\u1ed1i d\u1eef li\u1ec7u",breadCumData:[{id:1,text:"Trang Ch\u1ee7",link:"/"},{id:2,text:"Ph\xe2n ph\u1ed1i d\u1eef li\u1ec7u",link:"/data/distribute"}],fields:[{name:"campaignId",label:"Ngu\u1ed3n",placeholder:"Ngu\u1ed3n",type:"select",required:"true",requiredMessage:"H\xe3y nh\u1eadp ngu\u1ed3n d\u1eef li\u1ec7u",mode:"default",selectOptions:Object(o.b)(t)},{name:"statusId",label:"Tr\u1ea1ng th\xe1i",placeholder:"Tr\u1ea1ng th\xe1i",type:"select",required:"true",requiredMessage:"H\xe3y nh\u1eadp tr\u1ea1ng th\xe1i d\u1eef li\u1ec7u",mode:"default",selectOptions:p},{name:"quantityData",label:"S\u1ed1 l\u01b0\u1ee3ng",placeholder:"S\u1ed1 l\u01b0\u1ee3ng",required:"true",requiredMessage:"H\xe3y nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng c\u1ea7n ph\xe1t"}]};return l.createElement("div",null,l.createElement(r.a,{className:"content-header"},v.label,l.createElement(c.e,{breadCumData:v.breadCumData})),i?l.createElement(c.o,{size:"large"}):l.createElement(r.a,{className:"content-body animated fadeIn"},l.createElement(s.a,{xs:24,sm:24,md:24,lg:24},l.createElement(d.a,{onSubmit:this.handleSubmit},l.createElement(r.a,{gutter:16},v.fields&&v.fields.map(function(n,i){return l.createElement(s.a,{key:i,xs:24,sm:18,md:12,lg:6},l.createElement(c.i,{field:n,form:e.props.form}))}),l.createElement(s.a,{xs:24,sm:18,md:12,lg:6},l.createElement(a.a,{type:"primary",htmlType:"submit",disabled:Object(o.t)(this.props)||this.state.userIdList.length<1,loading:this.state.isSubmitting},"G\u1eedi"))))),l.createElement(s.a,{xs:24,sm:24,md:24,lg:24},l.createElement(c.v,{loading:i,users:m,handleListUser:this.handleListUser,roles:k}))))},n}(l.PureComponent);n.a=Object(m.compose)(Object(m.graphql)(v),Object(m.graphql)(f,{props:function(e){var n=e.mutate;return{distributeData:function(e){var i=e.statusId,t=e.userIdList,a=e.quantityData,d=e.campaignId;return n&&n({variables:{statusId:i,userIdList:t,quantityData:a,campaignId:d}})}}}}))(d.a.create()(g))},2866:function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"QUERY_DISTRIBUTE_DATA"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dataRemain"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"campaigns"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"statuses"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DISTRIBUTE_DATA"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"statusId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userIdList"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"quantityData"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"campaignId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"distributeData"},arguments:[{kind:"Argument",name:{kind:"Name",value:"statusId"},value:{kind:"Variable",name:{kind:"Name",value:"statusId"}}},{kind:"Argument",name:{kind:"Name",value:"userIdList"},value:{kind:"Variable",name:{kind:"Name",value:"userIdList"}}},{kind:"Argument",name:{kind:"Name",value:"quantityData"},value:{kind:"Variable",name:{kind:"Name",value:"quantityData"}}},{kind:"Argument",name:{kind:"Name",value:"campaignId"},value:{kind:"Variable",name:{kind:"Name",value:"campaignId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"HandleData"},directives:[]}]}}]}}],loc:{start:0,end:567}};t.loc.source={body:'#import "@graphql/fragments/HandleData.gql"\n\nquery QUERY_DISTRIBUTE_DATA {\n  users {\n    id\n    username\n    name\n    dataRemain\n    role{\n      id\n      name\n    }\n  }\n  campaigns {\n    id\n    name\n  }\n  roles {\n    id\n    name\n  }\n  statuses {\n    id\n    name\n  }\n}\n\n\nmutation DISTRIBUTE_DATA(\n    $statusId: ID!\n    $userIdList: [ID!]!\n    $quantityData: Int!\n    $campaignId: ID!\n  ) {\n    distributeData(\n      statusId: $statusId\n      userIdList: $userIdList\n      quantityData: $quantityData\n      campaignId: $campaignId\n    ) {\n      ...HandleData\n    }\n  }',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};t.definitions=t.definitions.concat(i(2772).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}));var d={};function s(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}function r(e,n){var i={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var t=d[n]||new Set,a=new Set,r=new Set;for(t.forEach(function(e){r.add(e)});r.size>0;){var u=r;r=new Set,u.forEach(function(e){a.has(e)||(a.add(e),(d[e]||new Set).forEach(function(e){r.add(e)}))})}return a.forEach(function(n){var t=s(e,n);t&&i.definitions.push(t)}),i}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,i){if("FragmentSpread"===n.kind)i.add(n.name.value);else if("VariableDefinition"===n.kind){var t=n.type;"NamedType"===t.kind&&i.add(t.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,i)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,i)}),n.definitions&&n.definitions.forEach(function(n){e(n,i)})}(e,n),d[e.name.value]=n}}),e.exports=t,e.exports.QUERY_DISTRIBUTE_DATA=r(t,"QUERY_DISTRIBUTE_DATA"),e.exports.DISTRIBUTE_DATA=r(t,"DISTRIBUTE_DATA")}});