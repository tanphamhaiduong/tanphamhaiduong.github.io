webpackJsonp([32],{2703:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(2898);t.default=a.a},2898:function(e,t,r){"use strict";r(231);var a,n=r(92),l=(r(1071),r(583)),o=(r(581),r(372)),i=(r(94),r(80)),s=(r(259),r(218)),c=r(0),u=(r.n(c),r(32)),p=(r.n(u),r(145)),m=(r.n(p),r(219)),d=r(103),h=r(130),b=r(582),f=r(2899),C=r(2901),g=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),N=this&&this.__assign||Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSubmit=function(e){e.preventDefault(),t.props.form.validateFields(function(e,r){if(!e){var a=t.props,n=a.data.totalCDRsReport,l=a.pagination;a.reduxActions.updateGroupCallReportQueryVariables({startTimes:r.startTimes,pagination:N({},l,{total:n})},t.props.data)}})},t}return g(t,e),t.prototype.componentDidMount=function(){this.props.data.refetch()},t.prototype.render=function(){var e={name:"/reports/group/calls/logs",label:"Danh s\xe1ch l\u1ecbch s\u1eed cu\u1ed9c g\u1ecdi",breadCumData:[{id:1,text:"Trang Ch\u1ee7",link:"/"},{id:2,text:"Danh s\xe1ch l\u1ecbch s\u1eed cu\u1ed9c g\u1ecdi",link:"/reports/group/calls/logs"}]},t=this.props,r=t.data,a=r.loading,u=r.cdrsReport,p=r.users,m=t.form,b=t.startTimes;return c.createElement("div",null,c.createElement(s.a,{className:"content-header"},e.label,c.createElement(d.c,{breadCumData:e.breadCumData})),c.createElement(s.a,{className:"content-body animated fadeIn"},c.createElement("div",null,c.createElement(s.a,{gutter:16},c.createElement(i.a,{onSubmit:this.handleSubmit},c.createElement(o.a,{xs:24,sm:24,md:24,lg:10},c.createElement(i.a.Item,{label:"Ng\xe0y"},m.getFieldDecorator("startTimes",{initialValue:b,rules:[{required:!0,message:"H\xe3y ch\u1ecdn ng\xe0y"}]})(c.createElement(l.a.RangePicker,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",placeholder:["T\u1eeb","\u0110\u1ebfn"]})))),c.createElement(o.a,{xs:24,sm:24,md:24,lg:4},c.createElement(i.a.Item,null,c.createElement(n.a,{type:"primary",htmlType:"submit",disabled:Object(h.A)(this.props)},"L\u1ea5y d\u1eef li\u1ec7u"))))),c.createElement(f.a,{loading:a,users:p,cdrsReport:u,data:this.props.data}))))},t}(c.PureComponent);t.a=Object(p.compose)(Object(m.connect)(function(e,t){return N({searchCallerNumberText:e.groupCallReport.searchCallerNumberText,filters:e.groupCallReport.filters,startTimes:e.groupCallReport.startTimes},t)},function(e){return{reduxActions:{updateGroupCallReportQueryVariables:function(t,r){return e(Object(b.g)(t,r))}}}}),Object(p.graphql)(C.a,{options:function(e){var t={};if(""!==e.searchCallerNumberText&&(t.callerNumber=e.searchCallerNumberText),e.startTimes){var r=e.startTimes.map(function(e){return e.format(u.defaultFormat)});t.startTimes=r}return{variables:t}}}),i.a.create())(T)},2899:function(e,t,r){"use strict";var a=r(2900);t.a=a.a},2900:function(e,t,r){"use strict";r(234);var a,n=r(169),l=(r(370),r(22)),o=(r(231),r(92)),i=(r(235),r(220)),s=r(0),c=(r.n(s),r(32)),u=(r.n(c),r(145)),p=(r.n(u),r(219)),m=r(130),d=r(582),h=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),b=this&&this.__assign||Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},f=function(e){function t(t){var r=e.call(this,t)||this;return r.onHandleExport=function(e,t){var r=Object(m.x)(e,t);Object(m.m)(r,"CallReport","CallReport"+c(Date.now()).format("DDMMMYYYY").toString())},r.handleTableChange=function(e,t,a){r.props.reduxActions.updateGroupCallReportQueryVariables({filters:t,searchCallerNumberText:r.state.searchCallerNumberText},r.props.data)},r.onSearchCallerNumberChange=function(e){var t=e.target.value;r.setState({searchCallerNumberText:t})},r.onSearch=function(){var e=r.state.searchCallerNumberText;r.props.reduxActions.updateGroupCallReportQueryVariables({searchCallerNumberText:e},r.props.data)},r.state={searchCallerNumberText:t.searchCallerNumberText,searchCallerNumberVisible:!1,isCallerNumberSearching:!!t.searchCallerNumberText},r}return h(t,e),t.prototype.render=function(){var e=this,t=this.props,r=t.cdrsReport,a=t.loading,c=this.state,u=c.searchCallerNumberText,p=c.searchCallerNumberVisible,d=c.isCallerNumberSearching,h=r?r.map(function(e){return b({},e,{duration:Object(m.z)(e.duration),bill:Object(m.z)(e.bill)})}):[],f=[{title:"Ng\u01b0\u1eddi g\u1ecdi",dataIndex:"callerNumber",filterDropdown:s.createElement("div",{className:"custom-filter-dropdown"},s.createElement(i.a,{placeholder:"T\xecm ki\u1ebfm ng\u01b0\u1eddi g\u1ecdi",value:u,onChange:this.onSearchCallerNumberChange,onPressEnter:this.onSearch}),s.createElement(o.a,{type:"primary",onClick:this.onSearch},"T\xecm ki\u1ebfm")),filterIcon:s.createElement(l.a,{type:"search",style:{color:d?"#108ee9":"#aaa"}}),filterDropdownVisible:p,onFilterDropdownVisibleChange:function(t){e.setState({searchCallerNumberVisible:t})}},{title:"T\u1ed5ng",dataIndex:"duration"},{title:"Bill",dataIndex:"bill"},{title:"Tr\u1ea3 l\u1eddi",dataIndex:"ANSWERED"},{title:"Kh\xf4ng tr\u1ea3 l\u1eddi",dataIndex:"NO_ANSWER"},{title:"B\u1eadn",dataIndex:"BUSY"},{title:"H\u1ee7y",dataIndex:"CANCEL"},{title:"Ngh\u1ebdn",dataIndex:"CONGESTION"},{title:"Kh\xf4ng th\xe0nh c\xf4ng",dataIndex:"FAILED"},{title:"T\u1ed5ng",dataIndex:"TOTAL"}];return s.createElement("div",null,s.createElement(o.a,{type:"primary",onClick:function(){e.onHandleExport(f,h)}},"Xu\u1ea5t Excel"),s.createElement(n.a,{rowKey:"callerNumber",columns:f,dataSource:h,loading:a,onChange:this.handleTableChange}))},t}(s.PureComponent);t.a=Object(u.compose)(Object(p.connect)(function(e,t){return b({searchCallerNumberText:e.groupCallReport.searchCallerNumberText,filters:e.groupCallReport.filters},t)},function(e){return{reduxActions:{updateGroupCallReportQueryVariables:function(t,r){return e(Object(d.g)(t,r))}}}}))(f)},2901:function(e,t,r){"use strict";var a,n=r(129),l=r.n(n),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=l()(a||(a=o(["\n  query CdrsReportQuery($callerNumber: String, $startTimes: [String]!) {\n    cdrsReport(callerNumber: $callerNumber, startTimes: $startTimes) {\n      callerNumber\n      ANSWERED\n      NO_ANSWER\n      BUSY\n      FAILED\n      CANCEL\n      CONGESTION\n      TOTAL\n      bill\n      duration\n    }\n  }\n"],["\n  query CdrsReportQuery($callerNumber: String, $startTimes: [String]!) {\n    cdrsReport(callerNumber: $callerNumber, startTimes: $startTimes) {\n      callerNumber\n      ANSWERED\n      NO_ANSWER\n      BUSY\n      FAILED\n      CANCEL\n      CONGESTION\n      TOTAL\n      bill\n      duration\n    }\n  }\n"])));t.a=i}});