webpackJsonp([49],{2695:function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=a(2847);n.default=i.a},2847:function(e,n,a){"use strict";a(302);var i,t=a(102),s=(a(55),a(46)),d=(a(1024),a(510)),r=(a(927),a(326)),l=(a(932),a(513)),u=a(0),m=(a.n(u),a(121)),o=a(69),c=a(243),p=this&&this.__extends||(i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])})(e,n)},function(e,n){function a(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}),k=a(2848),v=k.RESET_DATA,g=k.QUERY_RESET_DATA,f=function(e){function n(n){var a=e.call(this,n)||this;return a.isShowSubmitting=function(){a.setState({isSubmitting:!0})},a.isHideSubmitting=function(){a.setState({isSubmitting:!1})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,n){e||(a.isShowSubmitting(),a.props.resetData({statusIds:n.statusIds,userIds:a.state.userIds,campaignIds:n.campaignIds,newCampaignId:n.newCampaignId,isResetData:n.isResetData}).then(function(e){var n=e.data;n.resetData&&n.resetData.success?l.a.success({message:"Th\xe0nh c\xf4ng",description:"\u0110\xe3 reset "+n.resetData.quantityData+" d\u1eef li\u1ec7u"}):l.a.info({message:"Kh\xf4ng th\xe0nh c\xf4ng",description:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u \u0111\u1ec3 reset"}),a.isHideSubmitting()}).catch(function(e){Object(o.i)(e),a.isHideSubmitting()}))})},a.handleListUser=function(e){a.setState({userIds:e})},a.state={userIds:[],isSubmitting:!1},a}return p(n,e),n.prototype.componentDidMount=function(){this.props.data.refetch()},n.prototype.render=function(){var e=this,n=this.props.data,a=n.loading,i=n.users,l=n.roles,m=n.statuses,p=n.campaigns,k=Object(o.b)(m),v=Object(o.b)(p),g={name:"/data/reset",label:"Reset d\u1eef li\u1ec7u",breadCumData:[{id:1,text:"Trang Ch\u1ee7",link:"/"},{id:2,text:"Reset d\u1eef li\u1ec7u",link:"/data/reset"}],fields:[{name:"statusIds",label:"Tr\u1ea1ng th\xe1i",placeholder:"Tr\u1ea1ng th\xe1i",type:"select",required:"true",requiredMessage:"H\xe3y nh\u1eadp tr\u1ea1ng th\xe1i c\u1ea7n thu",mode:"multiple",selectOptions:k},{name:"campaignIds",label:"Chi\u1ebfn d\u1ecbch thu",placeholder:"Chi\u1ebfn d\u1ecbch thu",type:"select",required:"true",requiredMessage:"H\xe3y nh\u1eadp ngu\u1ed3n c\u1ea7n thu",mode:"multiple",selectOptions:v},{name:"newCampaignId",label:"Chi\u1ebfn d\u1ecbch chuy\u1ec3n sang",placeholder:"Chi\u1ebfn d\u1ecbch chuy\u1ec3n sang",type:"select",required:"true",requiredMessage:"H\xe3y nh\u1eadp ngu\u1ed3n c\u1ea7n chuy\u1ec3n sang sang",mode:"default",selectOptions:v},{name:"isResetData",label:"X\xf3a l\u1ecbch s\u1eed data",type:"switch",initialValue:"false"}]};return u.createElement("div",null,u.createElement(r.a,{className:"content-header"},g.label,u.createElement(c.e,{breadCumData:g.breadCumData})),a?u.createElement(c.o,{size:"large"}):u.createElement(r.a,{className:"content-body "},u.createElement(d.a,{xs:24,sm:24,md:24,lg:24},u.createElement(s.a,{onSubmit:this.handleSubmit},u.createElement(r.a,{gutter:16},g.fields&&g.fields.map(function(n,a){return u.createElement(d.a,{key:a,xs:24,sm:18,md:12,lg:6},u.createElement(c.i,{field:n,form:e.props.form}))}),u.createElement(d.a,{xs:24,sm:18,md:12,lg:6},u.createElement(t.a,{type:"primary",htmlType:"submit",disabled:Object(o.t)(this.props)||this.state.userIds.length<1,loading:this.state.isSubmitting},"G\u1eedi"))))),u.createElement(d.a,{xs:24,sm:24,md:24,lg:24},u.createElement(c.u,{loading:a,users:i,handleListUser:this.handleListUser,roles:l}))))},n}(u.PureComponent);n.a=Object(m.compose)(Object(m.graphql)(v,{props:function(e){var n=e.mutate;return{resetData:function(e){var a=e.userIds,i=e.statusIds,t=e.campaignIds,s=e.newCampaignId,d=e.isResetData;return n&&n({variables:{userIds:a,statusIds:i,campaignIds:t,newCampaignId:s,isResetData:d}})}}}}),Object(m.graphql)(g))(s.a.create()(f))},2848:function(e,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RESET_DATA"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"statusIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"campaignIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"newCampaignId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isResetData"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resetData"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userIds"},value:{kind:"Variable",name:{kind:"Name",value:"userIds"}}},{kind:"Argument",name:{kind:"Name",value:"statusIds"},value:{kind:"Variable",name:{kind:"Name",value:"statusIds"}}},{kind:"Argument",name:{kind:"Name",value:"campaignIds"},value:{kind:"Variable",name:{kind:"Name",value:"campaignIds"}}},{kind:"Argument",name:{kind:"Name",value:"newCampaignId"},value:{kind:"Variable",name:{kind:"Name",value:"newCampaignId"}}},{kind:"Argument",name:{kind:"Name",value:"isResetData"},value:{kind:"Variable",name:{kind:"Name",value:"isResetData"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantityData"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"QUERY_RESET_DATA"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dataRemain"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"statuses"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"campaigns"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:521}};a.loc.source={body:"mutation RESET_DATA($userIds: [ID!]!, $statusIds: [ID!]!, $campaignIds: [ID!]!, $newCampaignId: ID!, $isResetData: Boolean) {\n  resetData(userIds: $userIds, statusIds: $statusIds, campaignIds: $campaignIds, newCampaignId: $newCampaignId, isResetData: $isResetData) {\n    success\n    quantityData\n  }\n}\n\nquery QUERY_RESET_DATA {\n  users {\n    id\n    username\n    name\n    dataRemain\n    role{\n      id\n      name\n    }\n  }\n  roles {\n    id\n    name\n  }\n  statuses {\n    id\n    name\n  }\n  campaigns {\n    id\n    name\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function t(e,n){for(var a=0;a<e.definitions.length;a++){var i=e.definitions[a];if(i.name&&i.name.value==n)return i}}function s(e,n){var a={kind:e.kind,definitions:[t(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var s=i[n]||new Set,d=new Set,r=new Set;for(s.forEach(function(e){r.add(e)});r.size>0;){var l=r;r=new Set,l.forEach(function(e){d.has(e)||(d.add(e),(i[e]||new Set).forEach(function(e){r.add(e)}))})}return d.forEach(function(n){var i=t(e,n);i&&a.definitions.push(i)}),a}a.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,a){if("FragmentSpread"===n.kind)a.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&a.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,a)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,a)}),n.definitions&&n.definitions.forEach(function(n){e(n,a)})}(e,n),i[e.name.value]=n}}),e.exports=a,e.exports.RESET_DATA=s(a,"RESET_DATA"),e.exports.QUERY_RESET_DATA=s(a,"QUERY_RESET_DATA")}});