webpackJsonp([27],{2975:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3146);t.default=a.a},3146:function(e,t,n){"use strict";n(213);var a,i=n(89),r=(n(1154),n(549)),o=(n(387),n(222)),l=(n(90),n(74)),s=(n(221),n(143)),c=n(0),u=(n.n(c),n(26)),d=(n.n(u),n(107)),m=(n.n(d),n(386)),p=n(108),f=n(144),v=n(1262),h=n(3147),g=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),b=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},E=n(3149).QUERY_CALL_REPORT,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSubmit=function(e){e.preventDefault(),t.props.form.validateFields(function(e,n){if(!e){var a=t.props,i=a.data.totalCDRsReport,r=a.pagination;a.reduxActions.updateGroupCallReportQueryVariables({startTimes:n.startTimes,pagination:b({},r,{total:i})},t.props.data)}})},t}return g(t,e),t.prototype.componentDidMount=function(){this.props.data.refetch()},t.prototype.render=function(){var e={name:"/reports/group/calls/logs",label:"Danh s\xe1ch l\u1ecbch s\u1eed cu\u1ed9c g\u1ecdi",breadCumData:[{id:1,text:"Trang Ch\u1ee7",link:"/"},{id:2,text:"Danh s\xe1ch l\u1ecbch s\u1eed cu\u1ed9c g\u1ecdi",link:"/reports/group/calls/logs"}]},t=this.props,n=t.data,a=n.loading,u=n.callLogReport,d=n.users,m=t.form,v=t.startTimes;return c.createElement("div",null,c.createElement(s.a,{className:"content-header"},e.label,c.createElement(p.d,{breadCumData:e.breadCumData})),c.createElement(s.a,{className:"content-body animated fadeIn"},c.createElement("div",null,c.createElement(s.a,{gutter:16},c.createElement(l.a,{onSubmit:this.handleSubmit},c.createElement(o.a,{xs:24,sm:24,md:24,lg:10},c.createElement(l.a.Item,{label:"Ng\xe0y"},m.getFieldDecorator("startTimes",{initialValue:v,rules:[{required:!0,message:"H\xe3y ch\u1ecdn ng\xe0y"}]})(c.createElement(r.a.RangePicker,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",placeholder:["T\u1eeb","\u0110\u1ebfn"]})))),c.createElement(o.a,{xs:24,sm:24,md:24,lg:4},c.createElement(l.a.Item,null,c.createElement(i.a,{type:"primary",htmlType:"submit",disabled:Object(f.w)(this.props)},"L\u1ea5y d\u1eef li\u1ec7u"))))),c.createElement(h.a,{loading:a,users:d,callLogReport:u,data:this.props.data}))))},t}(c.PureComponent);t.a=Object(d.compose)(Object(m.connect)(function(e,t){return b({searchCallerNumberText:e.groupCallReport.searchCallerNumberText,filters:e.groupCallReport.filters,startTimes:e.groupCallReport.startTimes},t)},function(e){return{reduxActions:{updateGroupCallReportQueryVariables:function(t,n){return e(Object(v.f)(t,n))}}}}),Object(d.graphql)(E,{options:function(e){var t={};if(e.startTimes){var n=e.startTimes.map(function(e){return e.format(u.defaultFormat)});t.startTimes=n}return{variables:t}}}),l.a.create())(y)},3147:function(e,t,n){"use strict";var a=n(3148);t.a=a.a},3148:function(e,t,n){"use strict";n(223);var a,i=n(162),r=(n(213),n(89)),o=n(0),l=(n.n(o),n(26)),s=(n.n(l),n(107)),c=(n.n(s),n(386)),u=n(144),d=n(1262),m=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onHandleExport=function(e,t){var n=Object(u.u)(e,t);Object(u.l)(n,"CallReport","CallReport"+l(Date.now()).format("DDMMMYYYY").toString())},t.handleTableChange=function(e,n,a){t.props.reduxActions.updateGroupCallReportQueryVariables({filters:n},t.props.data)},t}return m(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.callLogReport,a=t.loading,l=n?n.map(function(e){return p({},e,{duration:Object(u.v)(e.duration),bill:Object(u.v)(e.bill)})}):[],s=[{title:"Ng\u01b0\u1eddi g\u1ecdi",dataIndex:"callerNumber"},{title:"T\u1ed5ng",dataIndex:"duration"},{title:"Bill",dataIndex:"bill"},{title:"Tr\u1ea3 l\u1eddi",dataIndex:"ANSWERED"},{title:"Kh\xf4ng tr\u1ea3 l\u1eddi",dataIndex:"NO_ANSWER"},{title:"B\u1eadn",dataIndex:"BUSY"},{title:"H\u1ee7y",dataIndex:"CANCEL"},{title:"Ngh\u1ebdn",dataIndex:"CONGESTION"},{title:"Kh\xf4ng th\xe0nh c\xf4ng",dataIndex:"FAILED"},{title:"T\u1ed5ng",dataIndex:"TOTAL"}];return o.createElement("div",null,o.createElement(r.a,{type:"primary",onClick:function(){e.onHandleExport(s,l)}},"Xu\u1ea5t Excel"),o.createElement(i.a,{rowKey:"callerNumber",columns:s,dataSource:l,loading:a,onChange:this.handleTableChange}))},t}(o.PureComponent);t.a=Object(s.compose)(Object(c.connect)(function(e,t){return p({filters:e.groupCallReport.filters},t)},function(e){return{reduxActions:{updateGroupCallReportQueryVariables:function(t,n){return e(Object(d.f)(t,n))}}}}))(f)},3149:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"QUERY_CALL_REPORT"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"startTimes"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"callLogReport"},arguments:[{kind:"Argument",name:{kind:"Name",value:"startTimes"},value:{kind:"Variable",name:{kind:"Name",value:"startTimes"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"callerNumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ANSWERED"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"NO_ANSWER"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"BUSY"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"FAILED"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"CANCEL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"CONGESTION"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"TOTAL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bill"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:221}};n.loc.source={body:"query QUERY_CALL_REPORT($startTimes: [String]!) {\n  callLogReport(startTimes: $startTimes) {\n    callerNumber\n    ANSWERED\n    NO_ANSWER\n    BUSY\n    FAILED\n    CANCEL\n    CONGESTION\n    TOTAL\n    bill\n    duration\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.QUERY_CALL_REPORT=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);for(var r=a[t]||new Set,o=new Set,l=new Set(r);l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"QUERY_CALL_REPORT")}});