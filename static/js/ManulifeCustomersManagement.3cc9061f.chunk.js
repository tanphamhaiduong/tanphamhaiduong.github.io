webpackJsonp([33],{2739:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2837);t.default=a.a},2837:function(e,t,n){"use strict";n(373);var a,r=n(13),s=(n(240),n(96)),o=(n(267),n(172)),i=n(0),c=(n.n(i),n(156)),u=(n.n(c),n(112)),m=n(155),h=(n.n(m),n(229)),l=n(111),d=n(141),p=n(2838),f=n(2840),b=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),N=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),t.prototype.componentDidMount=function(){this.props.data.refetch()},t.prototype.render=function(){var e={name:"/manulife/customers",label:"Kh\xe1ch h\xe0ng",breadCumData:[{id:1,text:"Trang Ch\u1ee7",link:"/"},{id:2,text:"Kh\xe1ch h\xe0ng",link:"/manulife/customers"}]},t=this.props,n=t.data,a=n.loading,c=n.customers,m=n.totalCustomers,h=n.statuses,d=n.dataSources,f=t.pagination;return i.createElement("div",null,i.createElement(o.a,{className:"content-header"},e.label,i.createElement(l.c,{breadCumData:e.breadCumData})),i.createElement(o.a,{className:"content-body animated fadeIn"},i.createElement("div",null,i.createElement(s.a,{type:"primary"},i.createElement(u.Link,{to:"/manulife/customer/create"},i.createElement(r.a,{type:"user-add"}),"T\u1ea1o m\u1edbi kh\xe1ch h\xe0ng")),i.createElement(p.a,{editUrl:"/manulife/customer/edit/",loading:a,customers:c,statuses:h,dataSources:d,data:this.props.data,pagination:N({},f,{total:m})}))))},t}(i.PureComponent);t.a=Object(m.compose)(Object(h.connect)(function(e,t){return N({pagination:e.customers.pagination,filters:e.customers.filters,searchNameText:e.customers.searchNameText,searchPhoneNumberText:e.customers.searchPhoneNumberText},t)},null),Object(m.graphql)(f.a,{options:function(e){var t={statusIds:c.get(e,"filters.statusId",[]),dataSourceIds:c.get(e,"filters.dataSourceId",[]),offset:((e.pagination.current||1)-1)*d.m.ITEMS_PER_PAGE,limit:d.m.ITEMS_PER_PAGE};return""!==e.searchNameText&&(t.name=e.searchNameText),""!==e.searchPhoneNumberText&&(t.phoneNumber=e.searchPhoneNumberText),{variables:t}}}))(g)},2838:function(e,t,n){"use strict";var a=n(2839);t.a=a.a},2839:function(e,t,n){"use strict";n(243);var a,r=n(180),s=(n(240),n(96)),o=(n(244),n(230)),i=(n(373),n(13)),c=n(0),u=(n.n(c),n(156)),m=(n.n(u),n(112)),h=n(155),l=(n.n(h),n(229)),d=n(591),p=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},b=function(e){function t(t){var n=e.call(this,t)||this;return n.handleTableChange=function(e,t,a){n.props.reduxActions.updateCustomersQueryVariables({pagination:e,filters:t,searchNameText:n.state.searchNameText,searchPhoneNumberText:n.state.searchPhoneNumberText},n.props.data)},n.onSearchNameChange=function(e){var t=e.target.value;n.setState({searchNameText:t})},n.onSearchPhoneNumberChange=function(e){var t=e.target.value;n.setState({searchPhoneNumberText:t})},n.onSearch=function(){var e=n.state,t=e.searchNameText,a=e.searchPhoneNumberText;n.props.reduxActions.updateCustomersQueryVariables({searchNameText:t,searchPhoneNumberText:a},n.props.data),n.setState({searchNameVisible:!1,isNameSearching:!!t,searchPhoneNumberVisible:!1,isPhoneNumberSearching:!!a})},n.state={searchNameText:t.searchNameText,searchNameVisible:!1,isNameSearching:!!t.searchNameText,searchPhoneNumberText:t.searchPhoneNumberText,searchPhoneNumberVisible:!1,isPhoneNumberSearching:!!t.searchPhoneNumberText},n}return p(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.editUrl,a=t.statuses,h=t.customers,l=t.loading,d=t.pagination,p=t.filters,f=t.dataSources,b=this.state,N=b.searchNameText,g=b.searchNameVisible,S=b.isNameSearching,I=b.searchPhoneNumberText,y=b.searchPhoneNumberVisible,T=b.isPhoneNumberSearching,x=[{title:"S\u1ed1 \u0111i\xean tho\u1ea1i",dataIndex:"phoneNumber",render:function(e,t){return c.createElement("div",null,e," \xa0",c.createElement(m.Link,{className:"action-edit",to:""+n+t.id},c.createElement(i.a,{type:"edit"})))},filterDropdown:c.createElement("div",{className:"custom-filter-dropdown"},c.createElement(o.a,{placeholder:"T\xecm ki\u1ebfm s\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xe1ch",value:I,onChange:this.onSearchPhoneNumberChange,onPressEnter:this.onSearch}),c.createElement(s.a,{type:"primary",onClick:this.onSearch},"T\xecm ki\u1ebfm")),filterIcon:c.createElement(i.a,{type:"search",style:{color:T?"#108ee9":"#aaa"}}),filterDropdownVisible:y,onFilterDropdownVisibleChange:function(t){e.setState({searchPhoneNumberVisible:t})}},{title:"T\xean Li\xean H\u1ec7",dataIndex:"name",filterDropdown:c.createElement("div",{className:"custom-filter-dropdown"},c.createElement(o.a,{placeholder:"T\xecm ki\u1ebfm t\xean kh\xe1ch",value:N,onChange:this.onSearchNameChange,onPressEnter:this.onSearch}),c.createElement(s.a,{type:"primary",onClick:this.onSearch},"T\xecm ki\u1ebfm")),filterIcon:c.createElement(i.a,{type:"search",style:{color:S?"#108ee9":"#aaa"}}),filterDropdownVisible:g,onFilterDropdownVisibleChange:function(t){e.setState({searchNameVisible:t})}},{title:"Ngu\u1ed3n",dataIndex:"dataSourceId",filters:f&&f.map(function(e){return{text:e.name,value:e.id}}),filteredValue:u.get(p,"dataSourceId"),render:function(e){return c.createElement("div",null,u.get(u.find(f,{id:e}),"name"))}},{title:"Tr\u1ea1ng Th\xe1i",dataIndex:"statusId",filters:a&&a.map(function(e){return{text:e.name,value:e.id}}),filteredValue:u.get(p,"statusId"),render:function(e){return c.createElement("div",null,u.get(u.find(a,{id:e}),"name"))}}];return c.createElement("div",null,c.createElement(r.a,{rowKey:"id",columns:x,dataSource:h,loading:l,pagination:d,onChange:this.handleTableChange}))},t}(c.PureComponent);t.a=Object(h.compose)(Object(l.connect)(function(e,t){return f({filters:e.customers.filters,searchNameText:e.customers.searchNameText,searchPhoneNumberText:e.customers.searchPhoneNumberText},t)},function(e){return{reduxActions:{updateCustomersQueryVariables:function(t,n){return e(Object(d.d)(t,n))}}}}))(b)},2840:function(e,t,n){"use strict";var a,r=n(139),s=n.n(r),o=n(171),i=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},c=s()(a||(a=i(["\n  ","\n  query CustomerManagementQuery(\n    $limit: Int\n    $offset: Int\n    $statusIds: [ID!]\n    $dataSourceIds: [ID!]\n    $name: String\n    $phoneNumber: String\n  ) {\n    customers(\n      limit: $limit\n      offset: $offset\n      statusIds: $statusIds\n      name: $name\n      phoneNumber: $phoneNumber\n      dataSourceIds: $dataSourceIds\n    ) {\n      ...Customer\n    }\n    totalCustomers(\n      statusIds: $statusIds\n      name: $name\n      phoneNumber: $phoneNumber\n      dataSourceIds: $dataSourceIds\n    )\n    statuses {\n      id\n      name\n    }\n    dataSources {\n      id\n      name\n    }\n  }\n"],["\n  ","\n  query CustomerManagementQuery(\n    $limit: Int\n    $offset: Int\n    $statusIds: [ID!]\n    $dataSourceIds: [ID!]\n    $name: String\n    $phoneNumber: String\n  ) {\n    customers(\n      limit: $limit\n      offset: $offset\n      statusIds: $statusIds\n      name: $name\n      phoneNumber: $phoneNumber\n      dataSourceIds: $dataSourceIds\n    ) {\n      ...Customer\n    }\n    totalCustomers(\n      statusIds: $statusIds\n      name: $name\n      phoneNumber: $phoneNumber\n      dataSourceIds: $dataSourceIds\n    )\n    statuses {\n      id\n      name\n    }\n    dataSources {\n      id\n      name\n    }\n  }\n"])),o.d);t.a=c}});