webpackJsonp([5],{2791:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(2964);n.default=a.a},2810:function(e,n,t){"use strict";var a=t(2811),i=t(2812),r=t(2813),o=t(2814),l=t(2815),s=t(2816),u=t(2817),c=t(2818),d=t(2819);t.d(n,"a",function(){return a.a}),t.d(n,"c",function(){return i.a}),t.d(n,"i",function(){return u.a}),t.d(n,"b",function(){return s.a}),t.d(n,"g",function(){return o.a}),t.d(n,"h",function(){return r.a}),t.d(n,"d",function(){return l.a}),t.d(n,"e",function(){return c.a}),t.d(n,"f",function(){return d.a})},2811:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var a=t(170),i=t(596),r=function(){return Object(i.e)(),{type:a.a.LOG_OUT}}},2812:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var a=t(170),i=function(e,n){return n.refetch(),{type:a.c.UPDATE_CUSTOMERS_QUERY_VARIABLES,payload:e}}},2813:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var a=t(170),i=function(e,n){return n.refetch(),{type:a.h.UPDATE_GROUP_LEAD_QUERY_VARIABLES,payload:e}}},2814:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var a=t(170),i=function(e,n){return n.refetch(),{type:a.g.UPDATE_GROUP_CUSTOMER_QUERY_VARIABLES,payload:e}}},2815:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var a=t(170),i=function(e,n){return n.refetch(),{type:a.d.UPDATE_GROUP_CALL_BACKS_QUERY_VARIABLES,payload:e}}},2816:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var a=t(170),i=function(e,n){return n.refetch(),{type:a.b.UPDATE_CALL_BACKS_QUERY_VARIABLES,payload:e}}},2817:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var a=t(170),i=function(e,n){return n.refetch(),{type:a.i.UPDATE_LEAD_QUERY_VARIABLES,payload:e}}},2818:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var a=t(170),i=function(e,n){return n.refetch(),{type:a.e.UPDATE_GROUP_CALL_LOGS_QUERY_VARIABLES,payload:e}}},2819:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var a=t(170),i=function(e,n){return n.refetch(),{type:a.f.UPDATE_GROUP_CALL_REPORT_QUERY_VARIABLES,payload:e}}},2964:function(e,n,t){"use strict";t(323);var a,i=t(106),r=(t(1026),t(557)),o=(t(1114),t(556)),l=(t(59),t(51)),s=(t(1023),t(347)),u=t(0),c=(t.n(u),t(64)),d=(t.n(c),t(17)),m=(t.n(d),t(94)),f=t(555),p=t(179),b=t(139),h=t(78),v=t(2810),g=t(2965),N=this&&this.__extends||(a=function(e,n){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}a(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),k=this&&this.__assign||function(){return(k=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},T=t(2967).QUERY_CALL_LOGS,y=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){if(!e){var a=n.props,i=a.data.totalCDRs,r=a.pagination;a.reduxActions.updateGroupCallLogsQueryVariables({startTimes:t.startTimes,pagination:k({},r,{total:i})},n.props.data)}})},n}return N(n,e),n.prototype.componentDidMount=function(){this.props.data.refetch()},n.prototype.render=function(){var e={name:"/reports/group/calls/logs",label:"Danh s\xe1ch l\u1ecbch s\u1eed cu\u1ed9c g\u1ecdi",breadCumData:[{id:1,text:"Trang Ch\u1ee7",link:"/"},{id:2,text:"Danh s\xe1ch l\u1ecbch s\u1eed cu\u1ed9c g\u1ecdi",link:"/reports/group/calls/logs"}]},n=this.props,t=n.data,a=t.loading,c=t.callLogs,d=t.totalCallLogs,m=t.users,f=n.pagination,b=n.form,v=n.startTimes;return u.createElement("div",null,u.createElement(s.a,{className:"content-header"},e.label,u.createElement(p.d,{breadCumData:e.breadCumData})),u.createElement(s.a,{className:"content-body animated fadeIn"},u.createElement("div",null,u.createElement(s.a,{gutter:16},u.createElement(l.a,{onSubmit:this.handleSubmit},u.createElement(o.a,{xs:24,sm:24,md:24,lg:10},u.createElement(l.a.Item,{label:"Ng\xe0y"},b.getFieldDecorator("startTimes",{initialValue:v,rules:[{required:!0,message:"H\xe3y ch\u1ecdn ng\xe0y"}]})(u.createElement(r.a.RangePicker,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",placeholder:["T\u1eeb","\u0110\u1ebfn"]})))),u.createElement(o.a,{xs:24,sm:24,md:24,lg:4},u.createElement(l.a.Item,null,u.createElement(i.a,{type:"primary",htmlType:"submit",disabled:Object(h.s)(this.props)},"L\u1ea5y d\u1eef li\u1ec7u"))))),u.createElement(g.a,{loading:a,users:m,callLogs:c,data:this.props.data,pagination:k({},f,{total:d})}))))},n}(u.PureComponent);n.a=Object(m.compose)(Object(f.connect)(function(e,n){return k({pagination:e.groupCallLogs.pagination,searchDestinationNumberText:e.groupCallLogs.searchDestinationNumberText,searchCallerNumberText:e.groupCallLogs.searchCallerNumberText,filters:e.groupCallLogs.filters,startTimes:e.groupCallLogs.startTimes},n)},function(e){return{reduxActions:{updateGroupCallLogsQueryVariables:function(n,t){return e(Object(v.e)(n,t))}}}}),Object(m.graphql)(T,{options:function(e){var n={dispositions:Object(c.get)(e,"filters.disposition",[]),offset:((e.pagination.current||1)-1)*b.m.ITEMS_PER_PAGE,limit:b.m.ITEMS_PER_PAGE};if(""!==e.searchDestinationNumberText&&(n.destinationNumber=e.searchDestinationNumberText),""!==e.searchCallerNumberText&&(n.callerNumber=e.searchCallerNumberText),e.startTimes){var t=e.startTimes.map(function(e){return e.format(d.defaultFormat)});n.startTimes=t}return{variables:n}}}),l.a.create())(y)},2965:function(e,n,t){"use strict";var a=t(2966);n.a=a.a},2966:function(e,n,t){"use strict";t(180);var a,i=t(147),r=(t(1161),t(569)),o=(t(554),t(13)),l=(t(323),t(106)),s=(t(181),t(124)),u=t(0),c=(t.n(u),t(64)),d=(t.n(c),t(94)),m=t(555),f=t(17),p=(t.n(f),t(139)),b=t(2810),h=this&&this.__extends||(a=function(e,n){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}a(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),v=this&&this.__assign||function(){return(v=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},g=function(e){function n(n){var t=e.call(this,n)||this;return t.handleTableChange=function(e,n,a){t.props.reduxActions.updateGroupCallLogsQueryVariables({pagination:e,filters:n,searchDestinationNumberText:t.state.searchDestinationNumberText,searchCallerNumberText:t.state.searchCallerNumberText},t.props.data)},t.onSearchCallerNumberChange=function(e){var n=e.target.value;t.setState({searchCallerNumberText:n})},t.onSearchPhoneNumberChange=function(e){var n=e.target.value;t.setState({searchDestinationNumberText:n})},t.onSearch=function(){var e=t.state,n=e.searchDestinationNumberText,a=e.searchCallerNumberText;t.props.reduxActions.updateGroupCallLogsQueryVariables({searchDestinationNumberText:n,searchCallerNumberText:a},t.props.data),t.setState({searchDestinationNumberVisible:!1,isDestinationNumberSearching:!!n})},t.state={searchDestinationNumberText:n.searchDestinationNumberText,searchDestinationNumberVisible:!1,isDestinationNumberSearching:!!n.searchDestinationNumberText,searchCallerNumberText:n.searchCallerNumberText,searchCallerNumberVisible:!1,isCallerNumberSearching:!!n.searchCallerNumberText},t}return h(n,e),n.prototype.render=function(){var e=this,n=this.props,t=n.callLogs,a=n.loading,d=n.pagination,m=n.filters,b=this.state,h=b.searchDestinationNumberText,v=b.searchDestinationNumberVisible,g=b.isDestinationNumberSearching,N=b.searchCallerNumberText,k=b.searchCallerNumberVisible,T=b.isCallerNumberSearching,y=[{title:"Ng\u01b0\u1eddi g\u1ecdi",dataIndex:"callerNumber",filterDropdown:u.createElement("div",{className:"custom-filter-dropdown"},u.createElement(s.a,{placeholder:"T\xecm ki\u1ebfm ng\u01b0\u1eddi g\u1ecdi",value:N,onChange:this.onSearchCallerNumberChange,onPressEnter:this.onSearch}),u.createElement(l.a,{type:"primary",onClick:this.onSearch},"T\xecm ki\u1ebfm")),filterIcon:u.createElement(o.a,{type:"search",style:{color:T?"#108ee9":"#aaa"}}),filterDropdownVisible:k,onFilterDropdownVisibleChange:function(n){e.setState({searchCallerNumberVisible:n})}},{title:"Ng\u01b0\u1eddi nh\u1eadn",dataIndex:"destinationNumber",filterDropdown:u.createElement("div",{className:"custom-filter-dropdown"},u.createElement(s.a,{placeholder:"T\xecm ki\u1ebfm s\u1ed1 ng\u01b0\u1eddi nh\u1eadn",value:h,onChange:this.onSearchPhoneNumberChange,onPressEnter:this.onSearch}),u.createElement(l.a,{type:"primary",onClick:this.onSearch},"T\xecm ki\u1ebfm")),filterIcon:u.createElement(o.a,{type:"search",style:{color:g?"#108ee9":"#aaa"}}),filterDropdownVisible:v,onFilterDropdownVisibleChange:function(n){e.setState({searchDestinationNumberVisible:n})}},{title:"Ng\xe0y g\u1ecdi",dataIndex:"startTime",render:function(e){return f(e).local().format(p.n.DATE_TIME)}},{title:"Tr\u1ea1ng Th\xe1i",dataIndex:"disposition",filters:p.b&&Object.keys(p.b).map(function(e){return{text:p.b[e],value:p.b[e]}}),filteredValue:Object(c.get)(m,"disposition"),render:function(e){return u.createElement(r.a,{color:e===p.b.ANSWERED?"#87d068":"#f50"},e)}},{title:"Ghi \xe2m",dataIndex:"recordURL",render:function(e){return u.createElement("a",{href:e,target:"_blank"},"Nghe Ghi \xc2m")}}];return u.createElement("div",null,u.createElement(i.a,{rowKey:"id",columns:y,dataSource:t,loading:a,pagination:d,onChange:this.handleTableChange}))},n}(u.PureComponent);n.a=Object(d.compose)(Object(m.connect)(function(e,n){return v({pagination:e.groupCallLogs.pagination,searchDestinationNumberText:e.groupCallLogs.searchDestinationNumberText,searchCallerNumberText:e.groupCallLogs.searchCallerNumberText,filters:e.groupCallLogs.filters},n)},function(e){return{reduxActions:{updateGroupCallLogsQueryVariables:function(n,t){return e(Object(b.e)(n,t))}}}}))(g)},2967:function(e,n,t){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"QUERY_CALL_LOGS"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"callerNumber"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"destinationNumber"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"dispositions"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"startTimes"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"callLogs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"callerNumber"},value:{kind:"Variable",name:{kind:"Name",value:"callerNumber"}}},{kind:"Argument",name:{kind:"Name",value:"destinationNumber"},value:{kind:"Variable",name:{kind:"Name",value:"destinationNumber"}}},{kind:"Argument",name:{kind:"Name",value:"dispositions"},value:{kind:"Variable",name:{kind:"Name",value:"dispositions"}}},{kind:"Argument",name:{kind:"Name",value:"startTimes"},value:{kind:"Variable",name:{kind:"Name",value:"startTimes"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CallLog"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalCallLogs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"callerNumber"},value:{kind:"Variable",name:{kind:"Name",value:"callerNumber"}}},{kind:"Argument",name:{kind:"Name",value:"destinationNumber"},value:{kind:"Variable",name:{kind:"Name",value:"destinationNumber"}}},{kind:"Argument",name:{kind:"Name",value:"dispositions"},value:{kind:"Variable",name:{kind:"Name",value:"dispositions"}}},{kind:"Argument",name:{kind:"Name",value:"startTimes"},value:{kind:"Variable",name:{kind:"Name",value:"startTimes"}}}],directives:[]}]}}],loc:{start:0,end:568}};a.loc.source={body:'#import "@graphql/fragments/CallLog.gql"\n\nquery QUERY_CALL_LOGS(\n  $limit: Int!\n  $offset: Int!\n  $callerNumber: String\n  $destinationNumber: String\n  $dispositions: [String]\n  $startTimes: [String]\n) {\n  callLogs(\n    limit: $limit\n    offset: $offset\n    callerNumber: $callerNumber\n    destinationNumber: $destinationNumber\n    dispositions: $dispositions\n    startTimes: $startTimes\n  ) {\n    ...CallLog\n  }\n  totalCallLogs(\n    callerNumber: $callerNumber\n    destinationNumber: $destinationNumber\n    dispositions: $dispositions\n    startTimes: $startTimes\n  )\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};a.definitions=a.definitions.concat(t(2968).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!i[n]&&(i[n]=!0,!0)}));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}a.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),r[e.name.value]=n}}),e.exports=a,e.exports.QUERY_CALL_LOGS=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=r[n]||new Set,i=new Set,l=new Set;for(a.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach(function(e){l.add(e)}))})}return i.forEach(function(n){var a=o(e,n);a&&t.definitions.push(a)}),t}(a,"QUERY_CALL_LOGS")},2968:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CallLog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CallLog"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"callUUID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"direction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"callerNumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"destinationNumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"answerTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"billDuration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalDuration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"disposition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dnis"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recordURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"provider"},arguments:[],directives:[]}]}}],loc:{start:0,end:204}};t.loc.source={body:"fragment CallLog on CallLog {\n  id\n  callUUID\n  direction\n  callerNumber\n  destinationNumber\n  startTime\n  answerTime\n  endTime\n  billDuration\n  totalDuration\n  disposition\n  dnis\n  recordURL\n  provider\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t}});