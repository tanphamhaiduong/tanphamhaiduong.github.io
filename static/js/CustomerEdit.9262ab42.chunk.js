webpackJsonp([10],{2570:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(2600);n.default=a.a},2600:function(e,n,t){"use strict";var a,o=t(0),i=(t.n(o),t(250)),r=(t.n(i),t(42)),l=t(152),c=(t.n(l),t(178)),s=t(109),d=t(173),p=t(276),m=t(1340),h=t(2601),u=t(2602),b=t(2603),y=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}a(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),g=this&&this.__assign||Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},f=function(e){function n(n){var t=e.call(this,n)||this;return t.onCancel=function(){t.props.history.push("/customers")},t.onProccessCallClick=function(){t.onShowCallingLoading();var e=t.props,n=e.userLoggedIn,a=e.data,o=a.customer,i=a.company,l=new FormData;l.append("key",i.apiSecretKey),l.append("phone",o.phoneNumber),l.append("ext",n.telUsername),l.append("domain",i.domain),fetch(i.apiUrl,{method:"POST",mode:"no-cors",body:l}).then(function(e){r.notification.success({message:"Th\xe0nh c\xf4ng",description:"Cu\u1ed9c g\u1ecdi \u0111ang th\u1ef1c hi\u1ec7n"})}).catch(function(e){console.log(e),r.notification.error({message:"L\u1ed7i",description:"C\xf3 l\u1ed7i x\u1ea3y ra"}),t.onHideCallingLoading()})},t.disableFieldDateAppointmentStatusId=function(e,n,t){var a=i.findIndex(e.fields,{name:"dateAppointment"});e.fields[a]=g({},e.fields[a],{disabled:t});var o=i.findIndex(e.fields,{name:"statusId"});e.fields[o]=g({},e.fields[o],{disabled:t})},t.state={isCallLoading:!1},t}return y(n,e),n.prototype.onShowCallingLoading=function(){this.setState({isCallLoading:!0})},n.prototype.onHideCallingLoading=function(){this.setState({isCallLoading:!1})},n.prototype.render=function(){var e=g({name:"/customer/edit",label:"Ch\u1ec9nh s\u1eeda kh\xe1ch h\xe0ng",breadCumData:[{id:1,text:"Trang Ch\u1ee7",link:"/"},{id:2,text:"Qu\u1ea3n l\xfd kh\xe1ch h\xe0ng",link:"/customers"},{id:3,text:""+this.props.match.params.id,link:"/customer/edit/"+this.props.match.params.id}]},u.a),n=this.props.data,t=n.loading,a=n.customer,i=n.statuses,l=n.provinces,c=n.statusGroup,p={};if(!t){var m=Object(d.b)(i),h=Object(d.c)(l),b=Object(d.p)(a.statusId,c);Object(d.h)(e,m,b),Object(d.e)(e,h),this.disableFieldDateAppointmentStatusId(e,c,b),p=Object(d.v)(a)}return o.createElement("div",null,o.createElement(r.Row,{className:"content-header"},e.label,o.createElement(s.c,{breadCumData:e.breadCumData})),o.createElement(r.Row,{className:"content-body animated fadeIn"},t?o.createElement(s.p,{size:"large"}):o.createElement("div",null,o.createElement(r.Button,{type:"primary",onClick:this.onProccessCallClick,loading:this.state.isCallLoading},"G\u1ecdi kh\xe1ch h\xe0ng ",o.createElement(r.Icon,{type:"phone"})),o.createElement(s.m,{statusGroup:c,formValues:p,fields:e.fields,objectId:this.props.match.params.id,onSubmit:this.props.editCustomer,onCancel:this.onCancel}))))},n}(o.PureComponent);n.a=Object(l.compose)(Object(c.connect)(function(e,n){return g({userLoggedIn:e.auth.userLoggedIn,pagination:e.customers.pagination},n)}),Object(l.graphql)(m.a,{options:function(e){return{variables:{offset:((e.pagination.current||1)-1)*p.TABLE.ITEMS_PER_PAGE,limit:p.TABLE.ITEMS_PER_PAGE}}}}),Object(l.graphql)(h.a,{options:function(e){return{variables:{id:e.match.params.id,name:p.STATUS_GROUP.ACCEPT_APPOINTMENT,companyId:e.userLoggedIn.companyId}}}}),Object(l.graphql)(b.a,{options:{errorPolicy:"all"},props:function(e){var n=e.mutate;return{editCustomer:function(e){return n&&n({variables:{customer:e}})}}}}))(f)},2601:function(e,n,t){"use strict";var a,o=t(151),i=t.n(o),r=t(177),l=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},c=i()(a||(a=l(["\n  ","\n  ","\n  ","\n  ","\n  query CustomerQuery($id: ID!, $name: String!, $companyId: ID!) {\n    customer(id: $id) {\n      ...Customer\n    }\n    provinces {\n      id\n      name\n    }\n    statuses {\n      ...Status\n    }\n    statusGroup(name: $name) {\n      ...StatusGroup\n    }\n    company(id: $companyId) {\n      ...Company\n    }\n  }\n"],["\n  ","\n  ","\n  ","\n  ","\n  query CustomerQuery($id: ID!, $name: String!, $companyId: ID!) {\n    customer(id: $id) {\n      ...Customer\n    }\n    provinces {\n      id\n      name\n    }\n    statuses {\n      ...Status\n    }\n    statusGroup(name: $name) {\n      ...StatusGroup\n    }\n    company(id: $companyId) {\n      ...Company\n    }\n  }\n"])),r.h,r.c,r.i,r.b);n.a=c},2602:function(e,n,t){"use strict";n.a={fields:[{name:"lead",label:"Lead",placeholder:"Lead",disabled:!0},{name:"phoneNumber",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",disabled:!0,options:{rules:[{required:!0,message:"H\xe3y nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}]}},{name:"statusId",label:"Tr\u1ea1ng Th\xe1i",type:"select",placeholder:"Tr\u1ea1ng th\xe1i",select:{mode:"default",selectOptions:[]}},{name:"name",label:"T\xean",placeholder:"T\xean"},{name:"dateAppointment",type:"datepicker",datepicker:{showTime:!0,format:"DD-MM-YYYY HH:mm"},label:"Ng\xe0y H\u1eb9n",placeholder:"Ng\xe0y H\u1eb9n"},{name:"remark",label:"Ghi ch\xfa",type:"textarea",placeholder:"Ghi ch\xfa"},{name:"birthday",label:"Ng\xe0y sinh",type:"datepicker",datepicker:{format:"DD-MM-YYYY"},placeholder:"Ng\xe0y sinh"},{name:"occupation",label:"Ngh\u1ec1 nghi\u1ec7p",placeholder:"Ngh\u1ec1 nghi\u1ec7p"},{name:"income",label:"Thu nh\u1eadp",placeholder:"Thu nh\u1eadp"},{name:"incomePaymentMethod",label:"H\xecnh th\u1ee9c nh\u1eadn l\u01b0\u01a1ng",type:"select",placeholder:"H\xecnh th\u1ee9c nh\u1eadn l\u01b0\u01a1ng",select:{mode:"default",selectOptions:[{id:"1",value:"Chuy\u1ec3n kho\u1ea3n",name:"Chuy\u1ec3n kho\u1ea3n"},{id:"2",value:"Ti\u1ec1n M\u1eb7t",name:"Ti\u1ec1n M\u1eb7t"}]}},{name:"address",label:"\u0110\u1ecba ch\u1ec9",placeholder:"\u0110\u1ecba ch\u1ec9"},{name:"province",label:"T\u1ec9nh",type:"select",placeholder:"T\u1ec9nh",select:{mode:"combobox",selectOptions:[]}},{name:"district",label:"Qu\u1eadn",type:"select",placeholder:"Qu\u1eadn",select:{mode:"combobox",selectOptions:[]}},{name:"ward",label:"Ph\u01b0\u1eddng",type:"select",placeholder:"Ph\u01b0\u1eddng",select:{mode:"combobox",selectOptions:[]}},{name:"namePartner",label:"T\xean v\u1ee3/ch\u1ed3ng",placeholder:"T\xean v\u1ee3/ch\u1ed3ng"},{name:"birthdayPartner",label:"Ng\xe0y sinh v\u1ee3/ch\u1ed3ng",type:"datepicker",datepicker:{format:"DD-MM-YYYY"},placeholder:"Ng\xe0y sinh v\u1ee3/ch\u1ed3ng"},{name:"nameChild1",label:"T\xean con 1",placeholder:"T\xean con 1"},{name:"birthdayChild1",label:"Ng\xe0y sinh con 1",type:"datepicker",datepicker:{format:"DD-MM-YYYY"},placeholder:"Ng\xe0y sinh con 1"},{name:"nameChild2",label:"T\xean con 2",placeholder:"T\xean con 2"},{name:"birthdayChild2",label:"Ng\xe0y sinh con 2",type:"datepicker",datepicker:{format:"DD-MM-YYYY"},placeholder:"Ng\xe0y sinh con 2"},{name:"nameChild3",label:"T\xean con 3",placeholder:"T\xean con 3"},{name:"birthdayChild3",label:"Ng\xe0y sinh con 3",type:"datepicker",datepicker:{format:"DD-MM-YYYY"},placeholder:"Ng\xe0y sinh con 3"},{name:"nameChild4",label:"T\xean con 4",placeholder:"T\xean con 4"},{name:"birthdayChild4",label:"Ng\xe0y sinh con 4",type:"datepicker",datepicker:{format:"DD-MM-YYYY"},placeholder:"Ng\xe0y sinh con 4"},{name:"dmoName",label:"T\xean DMO",placeholder:"T\xean DMO",disabled:!0},{name:"dmoPhoneNumber",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i DMO",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i DMO",disabled:!0},{name:"supDmoName",label:"T\xean Sup DMO",placeholder:"T\xean Sup DMO",disabled:!0},{name:"supDmoPhoneNumber",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i Sup DMO",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i Sup DMO",disabled:!0},{name:"dmoStatus",label:"Tr\u1ea1ng th\xe1i DMO",placeholder:"Tr\u1ea1ng th\xe1i DMO",disabled:!0},{name:"dmoRemark",label:"DMO ghi ch\xfa",type:"textarea",placeholder:"DMO ghi ch\xfa",disabled:!0}]}},2603:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var a,o=t(151),i=t.n(o),r=t(177),l=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},c=i()(a||(a=l(["\n  ","\n  mutation CustomerEditMutation($customer: CustomerInput!) {\n    editCustomer(customer: $customer) {\n      ...Customer\n    }\n  }\n"],["\n  ","\n  mutation CustomerEditMutation($customer: CustomerInput!) {\n    editCustomer(customer: $customer) {\n      ...Customer\n    }\n  }\n"])),r.c)}});