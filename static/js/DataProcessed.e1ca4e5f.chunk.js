webpackJsonp([28],{2689:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2844);e.default=r.a},2844:function(t,e,n){"use strict";n(231);var r,a=n(91),s=(n(1071),n(582)),o=(n(581),n(372)),i=(n(93),n(80)),c=(n(259),n(218)),u=n(0),l=(n.n(u),n(32)),p=(n.n(l),n(145)),d=(n.n(p),n(102)),m=n(130),f=n(2845),y=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},g=function(t){function e(e){var n=t.call(this,e)||this;return n.handleSubmit=function(t){t.preventDefault(),n.props.form.validateFields(function(t,e){t||n.setState(h({},e))})},n.state={dateProcessing:[l().startOf("day"),l().endOf("day")]},n}return y(e,t),e.prototype.render=function(){var t=this.props.form,e={name:"/statistics/group/progress",label:"Th\u1ed1ng k\xea ti\u1ebfn \u0111\u1ed9 c\u1ee7a nh\xf3m",breadCumData:[{id:1,text:"Trang Ch\u1ee7",link:"/"},{id:2,text:"Th\u1ed1ng k\xea ti\u1ebfn \u0111\u1ed9 c\u1ee7a nh\xf3m",link:"/statistics/group/progress"}]};return u.createElement("div",null,u.createElement(c.a,{className:"content-header"},e.label,u.createElement(d.c,{breadCumData:e.breadCumData})),u.createElement(c.a,{className:"content-body animated fadeIn"},u.createElement("div",null,u.createElement(c.a,{gutter:16},u.createElement(i.a,{onSubmit:this.handleSubmit},u.createElement(o.a,{xs:24,sm:24,md:24,lg:10},u.createElement(i.a.Item,{label:"Ng\xe0y"},t.getFieldDecorator("dateProcessing",{initialValue:[l().startOf("day"),l().endOf("day")],rules:[{required:!0,message:"H\xe3y ch\u1ecdn ng\xe0y"}]})(u.createElement(s.a.RangePicker,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",placeholder:["T\u1eeb","\u0110\u1ebfn"]})))),u.createElement(o.a,{xs:24,sm:24,md:24,lg:4},u.createElement(i.a.Item,null,u.createElement(a.a,{type:"primary",htmlType:"submit",disabled:Object(m.z)(this.props)},"L\u1ea5y d\u1eef li\u1ec7u"))))),u.createElement(f.a,{dateProcessing:this.state.dateProcessing}))))},e}(u.PureComponent);e.a=Object(p.compose)(i.a.create())(g)},2845:function(t,e,n){"use strict";var r=n(2846);e.a=r.a},2846:function(t,e,n){"use strict";n(234);var r,a=n(169),s=(n(231),n(91)),o=n(0),i=(n.n(o),n(131)),c=(n.n(i),n(32)),u=(n.n(c),n(103)),l=n(145),p=(n.n(l),n(102)),d=n(130),m=n(132),f=n(2847),y=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onHandleExport=function(t,e){var n=Object(d.x)(t,e);Object(d.m)(n,"StatusGroupStatisticByUser","StatusGroupStatisticByUser"+c(Date.now()).format("DDMMMYYYY").toString())},e}return y(e,t),e.prototype.componentDidMount=function(){this.props.data.refetch()},e.prototype.render=function(){var t=this,e=this.props.data,n=e.statusStatisticByUsers,r=e.loading,c=e.statusGroups,l=[],d=[{title:"T\xean",dataIndex:"name",render:function(t,e){return o.createElement(u.Link,{className:"action-edit",to:"/statistics/user/"+e.id},t)}},{title:"Extension",dataIndex:"telUsername"}];if(!r){var f=c.filter(function(t){return t.name!==m.k.NOT_CALL_YET});l=n&&n.map(function(t){var e={};return f.forEach(function(n){var r=n.statusesInGroup.split(","),a=t.statusCounters.filter(function(t){return i.includes(r,t.statusId)});e[""+n.name]=i.sumBy(a,"count")}),h({id:t.id,name:t.name,telUsername:t.telUsername},e)});var y=f.map(function(t){return{title:t.description,dataIndex:t.name}});d=d.concat(y)}return r?o.createElement(p.o,{size:"large"}):o.createElement("div",null,o.createElement(s.a,{type:"primary",onClick:function(){t.onHandleExport(d,l)}},"Xu\u1ea5t Excel"),o.createElement(a.a,{rowKey:"id",columns:d,dataSource:l}))},e}(o.PureComponent);e.a=Object(l.compose)(Object(l.graphql)(f.a,{options:function(t){return{variables:{dateProcessing:t.dateProcessing.map(function(t){return t.format(c.defaultFormat)})}}}}))(g)},2847:function(t,e,n){"use strict";var r,a=n(129),s=n.n(a),o=n(161),i=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},c=s()(r||(r=i(["\n  ","\n  query DataProcessedQuery($dateProcessing: [String]) {\n    statusStatisticByUsers(dateProcessing: $dateProcessing) {\n      ...StatusStatisticByUser\n    }\n    statusGroups {\n      id\n      name\n      description\n      statusesInGroup\n    }\n  }\n"],["\n  ","\n  query DataProcessedQuery($dateProcessing: [String]) {\n    statusStatisticByUsers(dateProcessing: $dateProcessing) {\n      ...StatusStatisticByUser\n    }\n    statusGroups {\n      id\n      name\n      description\n      statusesInGroup\n    }\n  }\n"])),o.k);e.a=c}});