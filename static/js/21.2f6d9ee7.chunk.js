webpackJsonp([21],{1084:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=i(340);i.d(n,"MemoryRouter",function(){return a.a});var t=i(341);i.d(n,"Prompt",function(){return t.a});var d=i(342);i.d(n,"Redirect",function(){return d.a});var r=i(199);i.d(n,"Route",function(){return r.a});var m=i(147);i.d(n,"Router",function(){return m.a});var u=i(343);i.d(n,"StaticRouter",function(){return u.a});var l=i(344);i.d(n,"Switch",function(){return l.a});var s=i(200);i.d(n,"generatePath",function(){return s.a});var c=i(148);i.d(n,"matchPath",function(){return c.a});var o=i(345);i.d(n,"withRouter",function(){return o.a})},2712:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=i(2811),t=i(2814);n.default=Object(t.a)(a.a)},2811:function(e,n,i){"use strict";i(253);var a=i(12),t=(i(252),i(95)),d=(i(990),i(336)),r=i(0),m=(i.n(r),i(79)),u=i(41),l=(i.n(u),i(198)),s=i(255),c=(i.n(s),i(2812)),o=(i.n(c),i(67));n.a=function(e){var n=e.section,i=e.onProccessCallClick,c=e.isCallLoading,v=e.match,k=e.customer,N=e.onCancel,g=e.editCustomer,p=e.location;return r.createElement("div",{className:"customer-edit"},r.createElement(d.a,{className:"content-header"},n.label,r.createElement(l.e,{breadCumData:n.breadCumData})),r.createElement(d.a,{className:"content-body "},r.createElement("div",null,r.createElement(d.a,{gutter:16},Object(o.a)(Object(u.get)(n,"buttonConfig.isShowCallButton",!1))?r.createElement(t.a,{type:"primary",onClick:i,loading:c},r.createElement("span",null,s.t("callCustomer")),r.createElement(a.a,{type:"phone"})):null,Object(o.a)(Object(u.get)(n,"buttonConfig.isShowHistoryButton",!1))?r.createElement(t.a,{type:"danger"},r.createElement(m.Link,{to:p.pathname+"/history"},s.t("viewHistory"))):null,Object(o.a)(Object(u.get)(n,"buttonConfig.isShowCreateTicketButton",!1))?r.createElement(t.a,{type:"danger"},r.createElement(m.Link,{to:p.pathname+"/create-ticket"},s.t("createTicket"))):null),r.createElement(l.m,{formValues:k,fields:n.fields,objectId:v.params.id,onSubmit:g,onCancel:N}))))}},2812:function(e,n,i){var a=i(2813);"string"===typeof a&&(a=[[e.i,a,""]]);var t={hmr:!0,transform:void 0};i(2707)(a,t);a.locals&&(e.exports=a.locals)},2813:function(e,n,i){(e.exports=i(2706)(!1)).push([e.i,".customer-edit button{margin-right:1rem}",""])},2814:function(e,n,i){"use strict";i(1e3);var a=i(543),t=i(126),d=i(65),r=i(1084),m=i(41),u=(i.n(m),i(532)),l=i(2815),s=l.QUERY_CUSTOMER,c=l.EDIT_CUSTOMER,o=l.CALL_CUSTOMER,v=Object(t.graphql)(c,{props:function(e){var n=e.mutate;return{editCustomer:function(e){return n&&n({variables:{customer:e}})}}}}),k=Object(t.graphql)(o,{props:function(e){var n=e.mutate;return{callCustomer:function(e){return n&&n({variables:{phoneNumber:e}})}}}}),N=Object(t.graphql)(s,{options:function(e){return{variables:{id:e.match.params.id}}}}),g=Object(d.h)("isCallLoading","setCallLoading",!1),p=Object(d.f)({onProccessCallClick:function(e){var n=e.callCustomer,i=e.customer,t=e.setCallLoading;return function(){t(!0),n(i.phoneNumber).then(function(e){var n=e.data;Object(m.get)(n,"callCustomer.success")?a.a.success("Cu\u1ed9c g\u1ecdi \u0111ang th\u1ef1c hi\u1ec7n"):a.a.error("Kh\xf4ng g\u1ecdi \u0111\u01b0\u1ee3c"),t(!1)}).catch(function(){t(!1)})}}});n.a=Object(d.b)(Object(d.e)("EnhanceCustomerEdit"),r.withRouter,Object(u.a)(),Object(u.b)(),u.f,N,Object(u.b)(),Object(u.d)("customer","customer",{}),v,k,g,p,Object(u.e)("/customers"))},2815:function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"QUERY_CUSTOMER"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"customer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneNumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alternatePhoneNumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dateOfBirth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"occupation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"income"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"namePartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dateOfBirthPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameFirstChild"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dateOfBirthFirstChild"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameSecondChild"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dateOfBirthSecondChild"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"appartmentNumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"province"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"district"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ward"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statusId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dateCallBack"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dateAppointment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lead"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remark"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dmoName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dmoPhoneNumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"supDmoName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dmoRemark"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"campaignId"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EDIT_CUSTOMER"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"customer"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CustomerInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"editCustomer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"customer"},value:{kind:"Variable",name:{kind:"Name",value:"customer"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneNumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alternatePhoneNumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dateOfBirth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"occupation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"income"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"namePartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dateOfBirthPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameFirstChild"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dateOfBirthFirstChild"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameSecondChild"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dateOfBirthSecondChild"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"appartmentNumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"province"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"district"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ward"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statusId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dateCallBack"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dateAppointment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lead"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remark"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dmoName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dmoPhoneNumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"supDmoName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dmoRemark"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"campaignId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"campaign"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CALL_CUSTOMER"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"phoneNumber"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"callCustomer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"phoneNumber"},value:{kind:"Variable",name:{kind:"Name",value:"phoneNumber"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1387}};i.loc.source={body:"query QUERY_CUSTOMER($id: ID!) {\n  customer(id: $id) {\n    id\n    name\n    phoneNumber\n    alternatePhoneNumber\n    dateOfBirth\n    email\n    occupation\n    income\n    namePartner\n    dateOfBirthPartner\n    nameFirstChild\n    dateOfBirthFirstChild\n    nameSecondChild\n    dateOfBirthSecondChild\n    appartmentNumber\n    address\n    province\n    city\n    district\n    ward\n    statusId\n    dateCallBack\n    dateAppointment\n    lead\n    product\n    productPrice\n    remark\n    dmoName\n    dmoPhoneNumber\n    supDmoName\n    dmoRemark\n    userId\n    campaignId\n  }\n}\n\nmutation EDIT_CUSTOMER($customer: CustomerInput!) {\n  editCustomer(customer: $customer) {\n    id\n    name\n    phoneNumber\n    alternatePhoneNumber\n    dateOfBirth\n    email\n    occupation\n    income\n    namePartner\n    dateOfBirthPartner\n    nameFirstChild\n    dateOfBirthFirstChild\n    nameSecondChild\n    dateOfBirthSecondChild\n    appartmentNumber\n    address\n    province\n    city\n    district\n    ward\n    statusId\n    status{\n      id\n      name\n    }\n    dateCallBack\n    dateAppointment\n    lead\n    product\n    productPrice\n    remark\n    dmoName\n    dmoPhoneNumber\n    supDmoName\n    dmoRemark\n    userId\n    user{\n      id\n      name\n    }\n    campaignId\n    campaign{\n      id\n      name\n    }\n  }\n}\n\nmutation CALL_CUSTOMER($phoneNumber: String!) {\n  callCustomer(phoneNumber: $phoneNumber) {\n    success\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function t(e,n){for(var i=0;i<e.definitions.length;i++){var a=e.definitions[i];if(a.name&&a.name.value==n)return a}}function d(e,n){var i={kind:e.kind,definitions:[t(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var d=a[n]||new Set,r=new Set,m=new Set;for(d.forEach(function(e){m.add(e)});m.size>0;){var u=m;m=new Set,u.forEach(function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach(function(e){m.add(e)}))})}return r.forEach(function(n){var a=t(e,n);a&&i.definitions.push(a)}),i}i.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,i){if("FragmentSpread"===n.kind)i.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&i.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,i)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,i)}),n.definitions&&n.definitions.forEach(function(n){e(n,i)})}(e,n),a[e.name.value]=n}}),e.exports=i,e.exports.QUERY_CUSTOMER=d(i,"QUERY_CUSTOMER"),e.exports.EDIT_CUSTOMER=d(i,"EDIT_CUSTOMER"),e.exports.CALL_CUSTOMER=d(i,"CALL_CUSTOMER")}});