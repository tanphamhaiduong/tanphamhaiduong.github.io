webpackJsonp([6],{2531:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2552);t.default=a.a},2552:function(e,t,n){"use strict";var a,r=n(0),o=(n.n(r),n(117)),i=(n.n(o),n(19)),l=n(60),c=(n.n(l),n(35)),s=n(61),d=n(93),m=n(533),p=n(2553),h=n(2554),u=n(2555),b=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSubmit=function(e){if(!Object(s.k)(e.statusId,t.props.data.statusGroup)||e.dateAppointment)if(Object(s.p)(e.phoneNumber)){var n=Object(s.s)(e);n.id=t.props.match.params.id,t.props.editCustomer(n).then(function(e){e.data.editCustomer?t.onCancel():i.p.error({message:"L\u1ed7i",description:"Kh\xf4ng t\u1ea1o \u0111\u01b0\u1ee3c kh\xe1ch h\xe0ng vui l\xf2ng th\u1eed l\u1ea1i"})}).catch(function(e){Object(s.j)(e)})}else i.p.error({message:"L\u1ed7i",description:"Vui l\xf2ng ki\u1ec3m tra l\u1ea1i s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"});else i.p.error({message:"L\u1ed7i",description:"Vui l\xf2ng ki\u1ec3m tra l\u1ea1i ng\xe0y h\u1eb9n"})},t.onCancel=function(){t.props.history.push("/customers")},t.disableFieldDateAppointment=function(e,t,n){var a=o.findIndex(e.fields,{name:"dateAppointment"});e.fields[a]={name:"dateAppointment",type:"datepicker",disabled:n,datepicker:{showTime:!0,format:"DD-MM-YYYY HH:mm"},label:"Ng\xe0y H\u1eb9n",placeholder:"Ng\xe0y H\u1eb9n"}},t}return b(t,e),t.prototype.render=function(){var e=y({name:"/customer/edit",label:"Ch\u1ec9nh s\u1eeda kh\xe1ch h\xe0ng",breadCumData:[{id:1,text:"Trang Ch\u1ee7",link:"/"},{id:2,text:"Qu\u1ea3n l\xfd kh\xe1ch h\xe0ng",link:"/customers"},{id:3,text:""+this.props.match.params.id,link:"/customer/edit/"+this.props.match.params.id}]},h.a),t=this.props.data,n=t.loading,a=t.customer,o=t.statuses,l=t.provinces,d=t.statusGroup,m={};if(!n){var p=Object(s.b)(o),u=Object(s.c)(l),b=Object(s.k)(a.statusId,d);Object(s.g)(e,p,b),Object(s.e)(e,u),m=Object(s.r)(a),this.disableFieldDateAppointment(e,d,b)}return r.createElement("div",null,r.createElement(i.k,{className:"content-header"},e.label,r.createElement(c.c,{breadCumData:e.breadCumData})),r.createElement(i.k,{className:"content-body animated fadeIn"},n?r.createElement(c.m,{size:"large"}):r.createElement("div",null,r.createElement("a",{href:"sip:"+a.phoneNumber},r.createElement(i.g,{type:"phone"})),r.createElement(c.k,{formValues:m,fields:e.fields,onSubmit:this.onSubmit,onCancel:this.onCancel}))))},t}(r.PureComponent);t.a=Object(l.compose)(Object(l.graphql)(m.a),Object(l.graphql)(p.a,{options:function(e){return{variables:{id:e.match.params.id,name:d.STATUS_GROUP.ACCEPT_APPOINTMENT}}}}),Object(l.graphql)(u.a,{options:{errorPolicy:"all"},props:function(e){var t=e.mutate;e.ownProps;return{editCustomer:function(e){return t&&t({variables:{customer:e},update:function(e,t){var n=t.data,a=e.readQuery({query:m.a});if(n&&n.editCustomer&&a&&a.customers){var r=a.customers.findIndex(function(e){return e.id===n.editCustomer.id});a.customers[r]=n.editCustomer}e.writeQuery({query:m.a,data:a})}})}}}}))(f)},2553:function(e,t,n){"use strict";var a,r=n(52),o=n.n(r),i=n(53),l=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},c=o()(a||(a=l(["\n  ","\n  ","\n  ","\n  query CustomerQuery($id: ID!, $name: String!) {\n    customer(id: $id) {\n      ...Customer\n    }\n    provinces {\n      id\n      name\n    }\n    statuses {\n      ...Status\n    }\n    statusGroup(name: $name) {\n      ...StatusGroup\n    }\n  }\n"],["\n  ","\n  ","\n  ","\n  query CustomerQuery($id: ID!, $name: String!) {\n    customer(id: $id) {\n      ...Customer\n    }\n    provinces {\n      id\n      name\n    }\n    statuses {\n      ...Status\n    }\n    statusGroup(name: $name) {\n      ...StatusGroup\n    }\n  }\n"])),i.g,i.b,i.h);t.a=c},2554:function(e,t,n){"use strict";t.a={fields:[{name:"lead",label:"Lead",placeholder:"Lead",disabled:!0},{name:"phoneNumber",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",disabled:!0,options:{rules:[{required:!0,message:"H\xe3y nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}]}},{name:"statusId",label:"Tr\u1ea1ng Th\xe1i",type:"select",placeholder:"Tr\u1ea1ng th\xe1i",select:{mode:"default",selectOptions:[]}},{name:"name",label:"T\xean",placeholder:"T\xean",options:{rules:[{required:!0,message:"H\xe3y nh\u1eadp t\xean kh\xe1ch"}]}},{name:"dateAppointment",type:"datepicker",datepicker:{showTime:!0,format:"DD-MM-YYYY HH:mm"},label:"Ng\xe0y H\u1eb9n",placeholder:"Ng\xe0y H\u1eb9n"},{name:"remark",label:"Ghi ch\xfa",type:"textarea",placeholder:"Ghi ch\xfa"},{name:"birthday",label:"Ng\xe0y sinh",type:"datepicker",datepicker:{format:"DD-MM-YYYY"},placeholder:"Ng\xe0y sinh"},{name:"occupation",label:"Ngh\u1ec1 nghi\u1ec7p",placeholder:"Ngh\u1ec1 nghi\u1ec7p"},{name:"income",label:"Thu nh\u1eadp",placeholder:"Thu nh\u1eadp"},{name:"incomePaymentMethod",label:"H\xecnh th\u1ee9c nh\u1eadn l\u01b0\u01a1ng",type:"select",placeholder:"H\xecnh th\u1ee9c nh\u1eadn l\u01b0\u01a1ng",select:{mode:"default",selectOptions:[{id:"1",value:"Chuy\u1ec3n kho\u1ea3n",name:"Chuy\u1ec3n kho\u1ea3n"},{id:"2",value:"Ti\u1ec1n M\u1eb7t",name:"Ti\u1ec1n M\u1eb7t"}]}},{name:"address",label:"\u0110\u1ecba ch\u1ec9",placeholder:"\u0110\u1ecba ch\u1ec9"},{name:"province",label:"T\u1ec9nh",type:"select",placeholder:"T\u1ec9nh",select:{mode:"combobox",selectOptions:[]}},{name:"district",label:"Qu\u1eadn",type:"select",placeholder:"Qu\u1eadn",select:{mode:"combobox",selectOptions:[]}},{name:"ward",label:"Ph\u01b0\u1eddng",type:"select",placeholder:"Ph\u01b0\u1eddng",select:{mode:"combobox",selectOptions:[]}},{name:"namePartner",label:"T\xean v\u1ee3/ch\u1ed3ng",placeholder:"T\xean v\u1ee3/ch\u1ed3ng"},{name:"birthdayPartner",label:"Ng\xe0y sinh v\u1ee3/ch\u1ed3ng",type:"datepicker",datepicker:{format:"DD-MM-YYYY"},placeholder:"Ng\xe0y sinh v\u1ee3/ch\u1ed3ng"},{name:"nameChild1",label:"T\xean con 1",placeholder:"T\xean con 1"},{name:"birthdayChild1",label:"Ng\xe0y sinh con 1",type:"datepicker",datepicker:{format:"DD-MM-YYYY"},placeholder:"Ng\xe0y sinh con 1"},{name:"nameChild2",label:"T\xean con 2",placeholder:"T\xean con 2"},{name:"birthdayChild2",label:"Ng\xe0y sinh con 2",type:"datepicker",datepicker:{format:"DD-MM-YYYY"},placeholder:"Ng\xe0y sinh con 2"},{name:"nameChild3",label:"T\xean con 3",placeholder:"T\xean con 3"},{name:"birthdayChild3",label:"Ng\xe0y sinh con 3",type:"datepicker",datepicker:{format:"DD-MM-YYYY"},placeholder:"Ng\xe0y sinh con 3"},{name:"nameChild4",label:"T\xean con 4",placeholder:"T\xean con 4"},{name:"birthdayChild4",label:"Ng\xe0y sinh con 4",type:"datepicker",datepicker:{format:"DD-MM-YYYY"},placeholder:"Ng\xe0y sinh con 4"},{name:"dmoName",label:"T\xean DMO",placeholder:"T\xean DMO",disabled:!0},{name:"dmoPhoneNumber",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i DMO",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i DMO",disabled:!0},{name:"supDmoName",label:"T\xean Sup DMO",placeholder:"T\xean Sup DMO",disabled:!0},{name:"supDmoPhoneNumber",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i Sup DMO",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i Sup DMO",disabled:!0},{name:"dmoStatus",label:"Tr\u1ea1ng th\xe1i DMO",placeholder:"Tr\u1ea1ng th\xe1i DMO",disabled:!0},{name:"dmoRemark",label:"DMO ghi ch\xfa",type:"textarea",placeholder:"DMO ghi ch\xfa",disabled:!0}]}},2555:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a,r=n(52),o=n.n(r),i=n(53),l=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},c=o()(a||(a=l(["\n  ","\n  mutation CustomerEditMutation($customer: CustomerInput!) {\n    editCustomer(customer: $customer) {\n      ...Customer\n    }\n  }\n"],["\n  ","\n  mutation CustomerEditMutation($customer: CustomerInput!) {\n    editCustomer(customer: $customer) {\n      ...Customer\n    }\n  }\n"])),i.b)}});