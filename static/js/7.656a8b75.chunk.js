webpackJsonp([7],{2789:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2970);t.default=r.a},2810:function(e,t,n){"use strict";var r=n(2811),a=n(2812),i=n(2813),o=n(2814),l=n(2815),u=n(2816),c=n(2817),s=n(2818),d=n(2819);n.d(t,"a",function(){return r.a}),n.d(t,"c",function(){return a.a}),n.d(t,"i",function(){return c.a}),n.d(t,"b",function(){return u.a}),n.d(t,"g",function(){return o.a}),n.d(t,"h",function(){return i.a}),n.d(t,"d",function(){return l.a}),n.d(t,"e",function(){return s.a}),n.d(t,"f",function(){return d.a})},2811:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(170),a=n(596),i=function(){return Object(a.e)(),{type:r.a.LOG_OUT}}},2812:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(170),a=function(e,t){return t.refetch(),{type:r.c.UPDATE_CUSTOMERS_QUERY_VARIABLES,payload:e}}},2813:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(170),a=function(e,t){return t.refetch(),{type:r.h.UPDATE_GROUP_LEAD_QUERY_VARIABLES,payload:e}}},2814:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(170),a=function(e,t){return t.refetch(),{type:r.g.UPDATE_GROUP_CUSTOMER_QUERY_VARIABLES,payload:e}}},2815:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(170),a=function(e,t){return t.refetch(),{type:r.d.UPDATE_GROUP_CALL_BACKS_QUERY_VARIABLES,payload:e}}},2816:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(170),a=function(e,t){return t.refetch(),{type:r.b.UPDATE_CALL_BACKS_QUERY_VARIABLES,payload:e}}},2817:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(170),a=function(e,t){return t.refetch(),{type:r.i.UPDATE_LEAD_QUERY_VARIABLES,payload:e}}},2818:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(170),a=function(e,t){return t.refetch(),{type:r.e.UPDATE_GROUP_CALL_LOGS_QUERY_VARIABLES,payload:e}}},2819:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(170),a=function(e,t){return t.refetch(),{type:r.f.UPDATE_GROUP_CALL_REPORT_QUERY_VARIABLES,payload:e}}},2970:function(e,t,n){"use strict";n(323);var r,a=n(106),i=(n(1026),n(557)),o=(n(1114),n(556)),l=(n(59),n(51)),u=(n(1023),n(347)),c=n(0),s=(n.n(c),n(17)),d=(n.n(s),n(94)),m=n(555),f=n(179),p=n(78),h=n(2810),b=n(2971),v=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),E=this&&this.__assign||function(){return(E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},N=n(2973).QUERY_CALL_REPORT,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSubmit=function(e){e.preventDefault(),t.props.form.validateFields(function(e,n){if(!e){var r=t.props,a=r.data.totalCDRsReport,i=r.pagination;r.reduxActions.updateGroupCallReportQueryVariables({startTimes:n.startTimes,pagination:E({},i,{total:a})},t.props.data)}})},t}return v(t,e),t.prototype.componentDidMount=function(){this.props.data.refetch()},t.prototype.render=function(){var e={name:"/reports/group/calls/logs",label:"Danh s\xe1ch l\u1ecbch s\u1eed cu\u1ed9c g\u1ecdi",breadCumData:[{id:1,text:"Trang Ch\u1ee7",link:"/"},{id:2,text:"Danh s\xe1ch l\u1ecbch s\u1eed cu\u1ed9c g\u1ecdi",link:"/reports/group/calls/logs"}]},t=this.props,n=t.data,r=n.loading,s=n.callLogsReport,d=n.users,m=t.form,h=t.startTimes;return c.createElement("div",null,c.createElement(u.a,{className:"content-header"},e.label,c.createElement(f.d,{breadCumData:e.breadCumData})),c.createElement(u.a,{className:"content-body animated fadeIn"},c.createElement("div",null,c.createElement(u.a,{gutter:16},c.createElement(l.a,{onSubmit:this.handleSubmit},c.createElement(o.a,{xs:24,sm:24,md:24,lg:10},c.createElement(l.a.Item,{label:"Ng\xe0y"},m.getFieldDecorator("startTimes",{initialValue:h,rules:[{required:!0,message:"H\xe3y ch\u1ecdn ng\xe0y"}]})(c.createElement(i.a.RangePicker,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",placeholder:["T\u1eeb","\u0110\u1ebfn"]})))),c.createElement(o.a,{xs:24,sm:24,md:24,lg:4},c.createElement(l.a.Item,null,c.createElement(a.a,{type:"primary",htmlType:"submit",disabled:Object(p.s)(this.props)},"L\u1ea5y d\u1eef li\u1ec7u"))))),c.createElement(b.a,{loading:r,users:d,callLogsReport:s,data:this.props.data}))))},t}(c.PureComponent);t.a=Object(d.compose)(Object(m.connect)(function(e,t){return E({searchCallerNumberText:e.groupCallReport.searchCallerNumberText,filters:e.groupCallReport.filters,startTimes:e.groupCallReport.startTimes},t)},function(e){return{reduxActions:{updateGroupCallReportQueryVariables:function(t,n){return e(Object(h.f)(t,n))}}}}),Object(d.graphql)(N,{options:function(e){var t={};if(""!==e.searchCallerNumberText&&(t.callerNumber=e.searchCallerNumberText),e.startTimes){var n=e.startTimes.map(function(e){return e.format(s.defaultFormat)});t.startTimes=n}return{variables:t}}}),l.a.create())(g)},2971:function(e,t,n){"use strict";var r=n(2972);t.a=r.a},2972:function(e,t,n){"use strict";n(180);var r,a=n(147),i=(n(554),n(13)),o=(n(323),n(106)),l=(n(181),n(124)),u=n(0),c=(n.n(u),n(17)),s=(n.n(c),n(94)),d=n(555),m=n(78),f=n(2810),p=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=this&&this.__assign||function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},b=function(e){function t(t){var n=e.call(this,t)||this;return n.onHandleExport=function(e,t){var n=Object(m.q)(e,t);Object(m.g)(n,"CallReport","CallReport"+c(Date.now()).format("DDMMMYYYY").toString())},n.handleTableChange=function(e,t,r){n.props.reduxActions.updateGroupCallReportQueryVariables({filters:t,searchCallerNumberText:n.state.searchCallerNumberText},n.props.data)},n.onSearchCallerNumberChange=function(e){var t=e.target.value;n.setState({searchCallerNumberText:t})},n.onSearch=function(){var e=n.state.searchCallerNumberText;n.props.reduxActions.updateGroupCallReportQueryVariables({searchCallerNumberText:e},n.props.data)},n.state={searchCallerNumberText:t.searchCallerNumberText,searchCallerNumberVisible:!1,isCallerNumberSearching:!!t.searchCallerNumberText},n}return p(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.callLogsReport,r=t.loading,c=this.state,s=c.searchCallerNumberText,d=c.searchCallerNumberVisible,f=c.isCallerNumberSearching,p=n?n.map(function(e){return h({},e,{duration:Object(m.r)(e.duration),bill:Object(m.r)(e.bill)})}):[],b=[{title:"Ng\u01b0\u1eddi g\u1ecdi",dataIndex:"callerNumber",filterDropdown:u.createElement("div",{className:"custom-filter-dropdown"},u.createElement(l.a,{placeholder:"T\xecm ki\u1ebfm ng\u01b0\u1eddi g\u1ecdi",value:s,onChange:this.onSearchCallerNumberChange,onPressEnter:this.onSearch}),u.createElement(o.a,{type:"primary",onClick:this.onSearch},"T\xecm ki\u1ebfm")),filterIcon:u.createElement(i.a,{type:"search",style:{color:f?"#108ee9":"#aaa"}}),filterDropdownVisible:d,onFilterDropdownVisibleChange:function(t){e.setState({searchCallerNumberVisible:t})}},{title:"T\u1ed5ng",dataIndex:"duration"},{title:"Bill",dataIndex:"bill"},{title:"Tr\u1ea3 l\u1eddi",dataIndex:"ANSWERED"},{title:"Kh\xf4ng tr\u1ea3 l\u1eddi",dataIndex:"NO_ANSWER"},{title:"B\u1eadn",dataIndex:"BUSY"},{title:"H\u1ee7y",dataIndex:"CANCEL"},{title:"Ngh\u1ebdn",dataIndex:"CONGESTION"},{title:"Kh\xf4ng th\xe0nh c\xf4ng",dataIndex:"FAILED"},{title:"T\u1ed5ng",dataIndex:"TOTAL"}];return u.createElement("div",null,u.createElement(o.a,{type:"primary",onClick:function(){e.onHandleExport(b,p)}},"Xu\u1ea5t Excel"),u.createElement(a.a,{rowKey:"callerNumber",columns:b,dataSource:p,loading:r,onChange:this.handleTableChange}))},t}(u.PureComponent);t.a=Object(s.compose)(Object(d.connect)(function(e,t){return h({searchCallerNumberText:e.groupCallReport.searchCallerNumberText,filters:e.groupCallReport.filters},t)},function(e){return{reduxActions:{updateGroupCallReportQueryVariables:function(t,n){return e(Object(f.f)(t,n))}}}}))(b)},2973:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"QUERY_CALL_REPORT"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"callerNumber"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"startTimes"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"callLogsReport"},arguments:[{kind:"Argument",name:{kind:"Name",value:"callerNumber"},value:{kind:"Variable",name:{kind:"Name",value:"callerNumber"}}},{kind:"Argument",name:{kind:"Name",value:"startTimes"},value:{kind:"Variable",name:{kind:"Name",value:"startTimes"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"callerNumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ANSWERED"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"NO_ANSWER"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"BUSY"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"FAILED"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"CANCEL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"CONGESTION"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"TOTAL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bill"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:274}};n.loc.source={body:"query QUERY_CALL_REPORT($callerNumber: String, $startTimes: [String]!) {\n  callLogsReport(callerNumber: $callerNumber, startTimes: $startTimes) {\n    callerNumber\n    ANSWERED\n    NO_ANSWER\n    BUSY\n    FAILED\n    CANCEL\n    CONGESTION\n    TOTAL\n    bill\n    duration\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),r[e.name.value]=t}}),e.exports=n,e.exports.QUERY_CALL_REPORT=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,o=new Set,l=new Set;for(i.forEach(function(e){l.add(e)});l.size>0;){var u=l;l=new Set,u.forEach(function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(t){var r=a(e,t);r&&n.definitions.push(r)}),n}(n,"QUERY_CALL_REPORT")}});